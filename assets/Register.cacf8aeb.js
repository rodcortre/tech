import{u as g,d as c,C as y,A as h,D as x,a as f,B as w,F as S,b as o}from"./CustomDialog.9a407417.js";import{j as e,C as p,r as i,f as u,F as b}from"./index.ebd3795d.js";import{a as v}from"./instance.f02bf366.js";async function L({email:t,password:r}){const{data:s}=await v().post("/api/register",{email:t,password:r});return s}const C=t=>{const{isLoading:r,mutate:s}=g(L,{onSuccess:()=>{t(!0)},onError:()=>{t("error")}});return{isLoading:r,mutate:s}},F=[{type:"email",name:"email",placeholder:"Email",value:"",labelstyles:"text-lg",errormessagestyles:"text-red-500",validations:[{type:"required"},{type:"email"},{type:"minLength",value:6},{type:"maxLength",value:30}]},{type:"password",name:"password",placeholder:"Password",labelstyles:"text-lg",errormessagestyles:"text-red-500",value:"",validations:[{type:"required"},{type:"minLength",value:6},{type:"maxLength",value:14}]},{type:"password",name:"confirmpassword",placeholder:"Confirm Password",labelstyles:"text-lg",errormessagestyles:"text-red-500",value:"",validations:[{type:"required"},{type:"minLength",value:6},{type:"maxLength",value:14}]}],j=()=>e(p,{children:e("h1",{children:"Las contrase\xF1as no coinciden"})}),E=()=>e(p,{children:e("div",{style:{margin:"10px"},children:e("h1",{children:"Creado con exito, regresa al login para iniciar sesion"})})}),A=()=>{const[t,r]=i.exports.useState(!1),{mutate:s,isLoading:d}=C(r),[a,l]=i.exports.useState({type:""}),m=n=>{n.password!==n.confirmpassword?(l({...a,type:"alert"}),c.setSubject=!0):s({email:n.email,password:n.password})};return i.exports.useEffect(()=>{t&&(l({...a,type:"success"}),c.setSubject=!0,r(!1)),t==="error"&&(l({...a,type:"error"}),c.setSubject=!0,r(!1))},[t]),u(b,{children:[u(y,{children:[a.type==="alert"&&e(j,{}),a.type==="success"&&e(E,{}),a.type==="error"&&e(h,{message:"No puedes registrar este email"})]}),e(x,{isLoading:d,json:F,labelSubmit:"Register",classButton:"mt-5",onSubmit:m})]})},k=()=>{const t=f(),[r,s]=i.exports.useState("0px");return i.exports.useEffect(()=>{t!=null&&t.height&&s(`${t.height}px`)},[t]),e(w,{heigth:r,children:e(S,{children:u(o,{children:[e(o.Title,{title:"Register new account"}),e(o.Description,{description:"Register new account with email and password"}),e(o.Form,{form:e(A,{})}),e(o.Link,{to:"/Login",description:`Back\r
`})]})})})};export{k as default};
