import{u as m,d,C as g,A as y,D as h,a as x,B as f,F as S,b as a}from"./CustomDialog.9a407417.js";import{a5 as b,a6 as L,r as o,f as c,F as v,j as t}from"./index.ebd3795d.js";import{a as F}from"./instance.f02bf366.js";async function C({email:e,password:s}){const{data:r}=await F().post("/api/login",{email:e,password:s});return r}const E=e=>{const s=b(),{isLoading:r,mutate:n}=m(C,{onSuccess:i=>{s(L({token:i.token}))},onError:()=>{e("error")}});return{isLoading:r,mutate:n}},j=[{type:"email",name:"email",placeholder:"Email",value:"",labelstyles:"text-lg",errormessagestyles:"text-red-500",validations:[{type:"required"},{type:"email"},{type:"minLength",value:6},{type:"maxLength",value:30}]},{type:"password",name:"password",placeholder:"Password",labelstyles:"text-lg",errormessagestyles:"text-red-500",value:"",validations:[{type:"required"},{type:"minLength",value:6},{type:"maxLength",value:14}]}],w=()=>{const[e,s]=o.exports.useState(!1),{mutate:r,isLoading:n}=E(s),[i,p]=o.exports.useState({type:""}),u=l=>{r({email:l.email,password:l.password})};return o.exports.useEffect(()=>{e==="error"&&(p({...i,type:"error"}),d.setSubject=!0,s(!1))},[e]),c(v,{children:[t(g,{children:i.type==="error"&&t(y,{message:"Credenciales incorrectas"})}),t(h,{isLoading:n,json:j,labelSubmit:"Sign in",classButton:"mt-5",onSubmit:u})]})},B=()=>{const e=x(),[s,r]=o.exports.useState("0px");return o.exports.useEffect(()=>{e!=null&&e.height&&r(`${e.height}px`)},[e]),t(f,{heigth:s,children:t(S,{children:c(a,{children:[t(a.Title,{title:"Sign In"}),t(a.Description,{description:"login to view user application"}),t(a.Form,{form:t(w,{})}),t(a.Link,{to:"/Register",description:`Click to register\r
`})]})})})};export{B as default};
