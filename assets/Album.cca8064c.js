import{u as D,a as P,b as E,H as u,d as I,S as _,A as p,C as a,c as j}from"./Close.b645c13a.js";import{a as F,C as $}from"./instance.f02bf366.js";import{r as n,j as e,f as l,I as b,G as C,F as L}from"./index.ebd3795d.js";async function k(r){const{data:s}=await F("https://jsonplaceholder.typicode.com").get(`/albums/${r}/photos`);return s}const w=r=>{const{isLoading:s,refetch:i,isError:o,isFetching:d,data:h,remove:f}=D("usePhotosUser",()=>k(r),{});return{isLoading:s,data:h,isFetching:d,isError:o,refetch:i,remove:f}},O=()=>{const[r,s]=n.exports.useState(0),[i,o]=n.exports.useState(!1),{data:d,isError:h,isFetching:f,isLoading:v,refetch:S}=P(),{data:c,refetch:U,remove:g}=E(r),{data:m,refetch:x,remove:y}=w(r),A=t=>{s(t),o(!0)};return n.exports.useEffect(()=>{S()},[]),n.exports.useEffect(()=>{r>0&&(U(),x())},[r]),n.exports.useEffect(()=>{i||(g(),y(),s(0))},[i]),v||f?e(u,{children:e($,{})}):h?e(u,{children:e(I,{})}):l(u,{children:[e(_,{isOpen:i,setIsOpen:o,anchor:"top",children:c&&m?l(p,{drag:!1,children:[l(a,{noStyle:!0,children:[e(b,{onClick:()=>o(!1),children:e(j,{htmlColor:"red"})}),e(a.CardAvatar,{url:c.data.avatar}),e(a.CardTitle,{title:c.data.last_name}),e(a.CardDescription,{description:c.data.email})]}),e(C,{children:m.map(t=>e(p,{drag:!1,children:e(a,{noStyle:!0,children:e(a.CardAvatar,{url:t.url})})},t.id))})]}):e(L,{})}),e(C,{children:d?d.data.map(t=>e(p,{children:l(a,{children:[e("div",{onClick:()=>{A(t.id)},children:e(a.CardAvatar,{url:t.avatar})}),e(a.CardTitle,{title:`${t.first_name} ${t.last_name}`}),e(a.CardDescription,{description:t.email})]})},t.id)):null})]})};export{O as default};
